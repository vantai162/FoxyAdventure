[gd_scene load_steps=29 format=4 uid="uid://fm22mgp2q845"]

[ext_resource type="TileSet" uid="uid://xt3l8n15jbfm" path="res://assets/island/tileset.tres" id="1_33rtp"]
[ext_resource type="Script" uid="uid://dpabmmeqo234t" path="res://test/levels/level_1/stage_1.gd" id="1_kwr08"]
[ext_resource type="TileSet" uid="uid://0yf5cmwk6u1i" path="res://assets/island/terrain/ice_tile_set.tres" id="2_1603u"]
[ext_resource type="PackedScene" uid="uid://bs816w0pr8all" path="res://player/foxy.tscn" id="2_dwsf3"]
[ext_resource type="PackedScene" uid="uid://c1bijw8i8erx5" path="res://enemy/turtle/turtle.tscn" id="3_1hwaj"]
[ext_resource type="PackedScene" uid="uid://duryp3ufmd0be" path="res://enemy/tribe/friendly_tribe.tscn" id="4_sdmob"]
[ext_resource type="PackedScene" uid="uid://bxfs4fsx7ot6m" path="res://enemy/starfish/starfish.tscn" id="5_1603u"]
[ext_resource type="PackedScene" uid="uid://bmgv5cgan4yt" path="res://enemy/mushroom/mushroom.tscn" id="8_1p8jb"]
[ext_resource type="PackedScene" uid="uid://ufmc2gkfnv58" path="res://enemy/crab/crab.tscn" id="9_4x5ew"]
[ext_resource type="PackedScene" uid="uid://b1a2s3d4f5g6h" path="res://enemy/aggressive_tribe/aggressive_tribe.tscn" id="10_lq01q"]
[ext_resource type="PackedScene" uid="uid://dqdstpxycbomj" path="res://effect_Item/BladeItem/blade.tscn" id="11_1603u"]
[ext_resource type="PackedScene" uid="uid://bdkss15p4gbma" path="res://enemy/seahorse/seahorse.tscn" id="11_sdmob"]
[ext_resource type="PackedScene" uid="uid://qdde77yqam1l" path="res://objects/platform/breakable_platform.tscn" id="13_o8rrw"]
[ext_resource type="PackedScene" uid="uid://xjj18m8if4v5" path="res://objects/platform/breakable_platform_slow.tscn" id="14_37uqy"]
[ext_resource type="PackedScene" uid="uid://buygo1gficx5m" path="res://objects/platform/horizontal_moving_platform.tscn" id="15_1p8jb"]
[ext_resource type="PackedScene" uid="uid://bp4fcvlg5b31p" path="res://objects/platform/vertical_moving_platform.tscn" id="16_4x5ew"]
[ext_resource type="PackedScene" uid="uid://dvjr8elgnjvcw" path="res://objects/platform/circular_moving_platform.tscn" id="16_lq01q"]
[ext_resource type="PackedScene" uid="uid://dav8b7a6d5e4f" path="res://enemy/shield_tribe/shield_tribe.tscn" id="17_lq01q"]
[ext_resource type="PackedScene" uid="uid://cc07u3qfgccmq" path="res://objects/spring/spring.tscn" id="18_kwr08"]
[ext_resource type="PackedScene" uid="uid://mikmney07ycb" path="res://objects/platform/one_way_platform.tscn" id="20_kvxrx"]
[ext_resource type="PackedScene" uid="uid://b336fup0h7gp5" path="res://objects/collapsable_wall/collapsable_wall.tscn" id="21_463cb"]
[ext_resource type="Script" uid="uid://b3s1m3fi6lhf5" path="res://objects/water/water.gd" id="22_06vob"]
[ext_resource type="TileSet" uid="uid://bmuxyu21ya31y" path="res://assets/tileset.tres" id="23_yjwvk"]
[ext_resource type="PackedScene" uid="uid://b3rfttffyg1qj" path="res://effect_Item/key/key.tscn" id="24_go1d3"]
[ext_resource type="PackedScene" uid="uid://dy2go6q81lmqg" path="res://effect_Item/TrapCoin/trap_coin.tscn" id="25_20b5y"]
[ext_resource type="PackedScene" uid="uid://lrdkn2gv1v1m" path="res://effect_Item/coin/coin.tscn" id="26_hdt7w"]
[ext_resource type="PackedScene" uid="uid://b3cbk6lmh2cc3" path="res://effect_Item/heal_potion/health_potion.tscn" id="27_xed15"]

[sub_resource type="GDScript" id="GDScript_xed15"]
script/source = "class_name Player
extends BaseCharacter

@export var runspeed: int = 300
@export var Attack_Speed: int = 0
@export var invi_time: float = 2.0
@export var jump_buffer: float
@export var coyote_time: float
var inventory= Inventory.new()

@export_group(\"Movement Physics\")
@export var ground_friction: float = 0.25
@export var min_stop_speed: float = 10.0
@export var slow_effect_multiplier: float = 0.5  ## Speed multiplier when slow effect is active
@export var wind_influence_factor: float = 0.1  ## How quickly player adjusts to wind when not moving

@export_group(\"Wall Jump\")
@export var wall_jump_force: float = 100.0
@export var wall_jump_control_delay: float = 0.15
@export var wall_jump_control_fade_duration: float = 0.4
@export var wall_slide_friction: float = 0.3

@export_group(\"Abilities\")
@export var dash_speed: float = 400.0
@export var dash_duration: float = 0.3
@export var hurt_knockback_vertical: float = 250.0
@export var hurt_stun_duration: float = 0.5
@export var dead_delay_before_respawn: float = 0.5
@export var throw_duration: float = 0.2
@export var double_jump_power_multiplier: float = 0.8
@export var run_idle_wait_time: float = 0.1

@export_group(\"Attack\")
@export var attack_duration: float = 0.2
@export var air_slash_spawn_delay: float = 0.05
@export var air_slash_speed: float = 300.0
@export var air_slash_deceleration: float = 500.0
@export var air_slash_fade_in_time: float = 0.1
@export var air_slash_active_time: float = 0.3
@export var air_slash_fade_out_time: float = 0.3
@export var air_slash_total_time: float = 0.8

@export_group(\"Swimming\")
@export var swim_gravity: float = 300.0
@export var swim_deceleration: float = 0.1
@export var swim_acceleration: float = 0.15
@export var head_offset_y: float = 8.0  ## Distance from player origin to head, negative in Y-axis (head is above origin)

@export_group(\"Air Control\")
@export var air_acceleration: float = 0.3  ## Air steering responsiveness when actively moving (0.0-1.0, lower = more momentum/inertia visible)
@export var air_deceleration: float = 0.08  ## Air drag when no input (0.0-1.0, lower = longer coast/momentum preservation)
@export var wall_jump_air_acceleration: float = 0.08  ## Restricted air control during wall jump (creates commitment)

## Runtime state for wall jump air restriction (managed by jump state)
var wall_jump_restriction_timer: float = -1.0  ## -1 = not active, >=0 = active countdown

var current_water: Node2D = null  ## Reference to current water body player is in
signal health_changed
signal coin_changed
@export_group(\"Blade\")
@export var blade_projectile_scene: PackedScene
@export var air_slash_scene: PackedScene

@export var Effect = {
	\"Stun\": 0,
	\"DamAmplify\": 0,
	\"Slow\": 0,
	\"Invicibility\": 0
}

enum attack_direction {
	Left, Right, Down, Up
}

@export var CoolDown = {
	\"Dash\": 0
}

@export var InitCoolDown = {
	\"Dash\": 2
}

var attack_cooldown: int = 1
var jump_count: int = 0
var dashed_on_air: bool = false
var timeline: float = 0.0
var last_jumppress_onair: float = -1211.0
var last_ground_time: float = -1211.0

var blade_count: int = 0
var max_blade_capacity: int = 1
var has_unlocked_blade: bool = false

## Get current air acceleration value based on wall jump restriction state
func get_current_air_acceleration() -> float:
	if wall_jump_restriction_timer < 0:
		return air_acceleration
	
	# Wall jump restriction active - check phase
	if wall_jump_restriction_timer < wall_jump_control_delay:
		return wall_jump_air_acceleration  # Locked phase: minimal control
	
	# Fade phase: smooth transition back to full control
	var fade_time = wall_jump_restriction_timer - wall_jump_control_delay
	if fade_time < wall_jump_control_fade_duration:
		var blend = fade_time / wall_jump_control_fade_duration
		return lerp(wall_jump_air_acceleration, air_acceleration, blend)
	
	# Fully restored
	return air_acceleration

func can_attack() -> bool:
	return blade_count > 0 and Effect[\"Stun\"] <= 0

func can_throw_blade() -> bool:
	return blade_count > 0 and Effect[\"Stun\"] <= 0

func consume_blade() -> void:
	if blade_count > 0:
		blade_count -= 1

func return_blade() -> void:
	if blade_count < max_blade_capacity:
		blade_count += 1
		
		# Switch back to blade sprite when getting a blade back
		if has_unlocked_blade and blade_count > 0:
			set_animated_sprite($Direction/BladeAnimatedSprite2D)

func increase_blade_capacity() -> void:
	max_blade_capacity = min(max_blade_capacity + 1, 3)
	return_blade()

func throw_blade_projectile() -> void:
	if not can_throw_blade() or not blade_projectile_scene:
		return
	
	var blade = blade_projectile_scene.instantiate()
	get_tree().current_scene.add_child(blade)
	
	var throw_offset = Vector2(40 * direction, -10)
	blade.global_position = global_position + throw_offset
	blade.launch(direction, self)
	
	consume_blade()
	
	# Switch back to unarmed sprite when out of blades
	if blade_count == 0:
		set_animated_sprite($Direction/AnimatedSprite2D)

func spawn_air_slash() -> void:
	if not air_slash_scene:
		return
	
	var air_slash = air_slash_scene.instantiate()
	get_tree().current_scene.add_child(air_slash)
	
	# Configure air slash with player settings
	air_slash.initial_speed = air_slash_speed
	air_slash.deceleration = air_slash_deceleration
	air_slash.fade_in_time = air_slash_fade_in_time
	air_slash.active_time = air_slash_active_time
	air_slash.fade_out_time = air_slash_fade_out_time
	air_slash.total_time = air_slash_total_time
	
	# Spawn at HitArea2D position
	var hit_area = $Direction/HitArea2D
	air_slash.global_position = hit_area.global_position
	
	# Launch in facing direction
	air_slash.launch(direction)

func _ready() -> void:
	super._ready()
	fsm = FSM.new(self, $States, $States/Idle)
	$Direction/HitArea2D/CollisionShape2D.disabled = true
	call_deferred(\"_connect_water_signals\")
	emit_signal(\"health_changed\")
	
	# Sync sprite to blade inventory state after base initialization
	# This handles respawn scenarios where blade state persists but sprite resets
	if has_unlocked_blade and blade_count > 0:
		set_animated_sprite($Direction/BladeAnimatedSprite2D)
	# else: already using unarmed sprite from super._ready()
	
func _connect_water_signals():
	for water in get_tree().get_nodes_in_group(\"water\"):
		if not water.player_entered_water.is_connected(_on_enter_water):
			water.player_entered_water.connect(_on_enter_water)
		if not water.player_exited_water.is_connected(_on_exit_water):
			water.player_exited_water.connect(_on_exit_water)

		
func _on_enter_water(body):
	if body == self:
		is_in_water = true
		gravity = 300
		fsm.change_state(fsm.states.swim)

func _on_exit_water(body):
	if body == self:
		is_in_water = false
		gravity = 700

func _process(delta: float) -> void:
	_updateeffect(delta)
	_update_timeline(delta)
	_updatecooldown(delta)

func _collect_blade() -> void:
	if not has_unlocked_blade:
		has_unlocked_blade = true
		set_animated_sprite($Direction/BladeAnimatedSprite2D)
	return_blade()

func _applyeffect(name: String, time: float) -> void:
	Effect[name] = time

func _updateeffect(delta: float) -> void:
	for key in Effect:
		Effect[key] -= delta
		if Effect[key] <= 0:
			Effect[key] = 0

func _update_timeline(delta: float) -> void:
	timeline += delta
	if is_on_floor():
		last_ground_time = timeline
	elif fsm.current_state == fsm.states.fall and Input.is_action_pressed(\"jump\"):
		last_jumppress_onair = timeline

func _checkcoyotea() -> bool:
	return timeline - last_ground_time < coyote_time

func _checkbuffer() -> bool:
	return timeline - last_jumppress_onair < jump_buffer

func take_damage(damage: int) -> void:
	if Effect[\"Invicibility\"] <= 0:
		if has_node(\"Camera2D\"):
			$Camera2D.shake(8.0)
		super.take_damage(damage)
		fsm.change_state(fsm.states.hurt)

func _updatecooldown(delta: float) -> void:
	for key in CoolDown:
		CoolDown[key] -= delta
		if CoolDown[key] <= 0:
			CoolDown[key] = 0

func set_cool_down(skillname: String) -> void:
	CoolDown[skillname] = InitCoolDown[skillname]
	
func save_state() -> Dictionary:
	return {
		\"position\": [global_position.x, global_position.y],
		\"blade_count\": blade_count,
		\"max_blade_capacity\": max_blade_capacity,
		\"has_unlocked_blade\": has_unlocked_blade,
		\"health\": health
	}

func load_state(data: Dictionary) -> void:
	if data.has(\"position\"):
		var pos_array = data[\"position\"]
		global_position = Vector2(pos_array[0], pos_array[1])
	
	if data.has(\"blade_count\"):
		blade_count = data[\"blade_count\"]
	if data.has(\"max_blade_capacity\"):
		max_blade_capacity = data[\"max_blade_capacity\"]
	if data.has(\"has_unlocked_blade\"):
		has_unlocked_blade = data[\"has_unlocked_blade\"]
		if has_unlocked_blade:
			set_animated_sprite($Direction/BladeAnimatedSprite2D)
	
	if data.has(\"health\"):
		health = data[\"health\"]
	# Đã loại bỏ logic: if data.has(\"has_blade\") and data[\"has_blade\"] == true:
	

func heal(amount:int): # Giữ: func heal
	if(amount+health>max_health):
		health=max_health
	else:
		health=amount+health
		health_changed.emit()

func checkfullhealth()->bool: # Giữ: func checkfullhealth
	return health==max_health

func _on_hurt_area_2d_hurt(direction: Vector2, damage: float) -> void:
	fsm.current_state.take_damage(damage)
	health_changed.emit()
"

[node name="Stage" type="Node2D"]
script = ExtResource("1_kwr08")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAALAAUAAAAAAAAAAAAKAAUAAAAAAAAAAAAJAAUAAAAAAAAAAAAIAAUAAAAAAAAAAAAHAAUAAAAAAAAAAAAGAAUAAAAAAAAAAAAFAAUAAAAAAAAAAAAEAAUAAAAAAAAAAAADAAUAAAAAAAAAAAACAAUAAAAAAAAAAAABAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAMAAUAAAAAAAAAAAANAAUAAAAAAAAAAAAOAAUAAAAAAAAAAAAPAAUAAAAAAAAAAAAQAAUAAAAAAAAAAAARAAUAAAAAAAAAAAD//wUAAAABAAAAAAASAAUAAAABAAAAAAATAAUAAAABAAAAAAAUAAUAAAABAAAAAAACAAIAAAAAAAAAAAADAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAAGAAIAAAAAAAAAAAAHAAIAAAAAAAAAAAAIAAIAAAAAAAAAAAAJAAIAAAAAAAAAAAAKAAIAAAAAAAAAAAALAAIAAAAAAAAAAAAMAAIAAAAAAAAAAAANAAIAAAAAAAAAAAAOAAIAAAAAAAAAAAAPAAIAAAAAAAAAAAAQAAIAAAAAAAAAAAARAAIAAAAAAAAAAAASAAIAAAAAAAAAAAATAAIAAAAAAAAAAAAUAAIAAAAAAAAAAAAVAAIAAAAAAAAAAAAVAAEAAAAAAAAAAAAUAAQAAAAAAAAAAAD//wQAAAAAAAAAAAANAP//AAAAAAAAAAAOAP//AAAAAAAAAAAPAP//AAAAAAAAAAAQAP//AAAAAAAAAAARAP//AAAAAAAAAAASAP//AAAAAAAAAAATAP//AAAAAAAAAAAUAP//AAAAAAAAAAAVAP//AAAAAAAAAAAWAP//AAAAAAAAAAAXAP//AAAAAAAAAAAYAP//AAAAAAAAAAAZAP//AAAAAAAAAAAZAP7/AAAAAAAAAAAPAPv/AAAAAAAAAAAQAPv/AAAAAAAAAAARAPv/AAAAAAAAAAASAPv/AAAAAAAAAAATAPv/AAAAAAAAAAAUAPv/AAAAAAAAAAAVAPv/AAAAAAAAAAAWAPv/AAAAAAAAAAAXAPv/AAAAAAAAAAAYAPv/AAAAAAAAAAAZAPv/AAAAAAAAAAAaAPv/AAAAAAAAAAAbAPv/AAAAAAAAAAAbAPr/AAAAAAAAAAD7/wcAAAAAAAAAAAD7/wgAAAAAAAAAAAD8/wgAAAAAAAAAAAD9/wgAAAAAAAAAAAD+/wgAAAAAAAAAAAD//wgAAAAAAAAAAAAAAAgAAAAAAAAAAAABAAgAAAAAAAAAAAACAAgAAAAAAAAAAAADAAgAAAAAAAAAAAAEAAgAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAAgAAAAAAAAAAAAIAAgAAAAAAAAAAAAJAAgAAAAAAAAAAAAKAAgAAAAAAAAAAAALAAgAAAAAAAAAAAAMAAgAAAAAAAAAAAANAAgAAAAAAAAAAAAOAAgAAAAAAAAAAAAPAAgAAAAAAAAAAAAQAAgAAAAAAAAAAAARAAgAAAAAAAAAAAASAAgAAAAAAAAAAAATAAgAAAAAAAAAAAAUAAgAAAAAAAAAAAAUAAcAAAAAAAAAAAAbAP7/AAAAAAAAAAAbAP//AAAAAAAAAAAcAP//AAAAAAAAAAAdAP//AAAAAAAAAAAeAP//AAAAAAAAAAAfAP//AAAAAAAAAAAgAP//AAAAAAAAAAAhAP//AAAAAAAAAAAiAP//AAAAAAAAAAAjAP//AAAAAAAAAAAkAP//AAAAAAAAAAAlAP//AAAAAAAAAAAmAP//AAAAAAAAAAAnAP//AAAAAAAAAAAoAP//AAAAAAAAAAApAP//AAAAAAAAAAApAP7/AAAAAAAAAAALAP3/AAAAAAAAAAAKAP3/AAAAAAAAAAAJAP3/AAAAAAAAAAAIAP3/AAAAAAAAAAAHAP3/AAAAAAAAAAAGAP3/AAAAAAAAAAAFAP3/AAAAAAAAAAAEAP3/AAAAAAAAAAADAP3/AAAAAAAAAAACAP3/AAAAAAAAAAABAP3/AAAAAAAAAAAAAP3/AAAAAAAAAAD///z/AAAAAAAAAAD///3/AAAAAAAAAAD//wMAAAABAAAAAADn//7/AAABAAAAAADn////AAABAAAAAADn/wAAAAABAAAAAADn/wEAAAABAAAAAADn/wIAAAABAAAAAADn/wMAAAABAAAAAADn/wQAAAABAAAAAADn/wUAAAABAAAAAADn/wYAAAABAAAAAADo/wYAAAABAAAAAADp/wYAAAABAAAAAADq/wYAAAABAAAAAADr/wYAAAABAAAAAADs/wYAAAABAAAAAADt/wYAAAABAAAAAADu/wYAAAABAAAAAADv/wYAAAABAAAAAADw/wYAAAABAAAAAADx/wYAAAABAAAAAADx/wUAAAABAAAAAADx/wQAAAABAAAAAADx/wMAAAABAAAAAADx/wIAAAABAAAAAADx/wEAAAABAAAAAADx/wAAAAABAAAAAADx////AAABAAAAAADx//7/AAABAAAAAAA=")
tile_set = ExtResource("1_33rtp")

[node name="IceBlock" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD3/woAAAAJAAUAAAD4/woAAAAJAAUAAAD5/woAAAAJAAUAAAD6/woAAAAJAAUAAAD3/wsAAAACAAYAAAD4/wsAAAACAAYAAAD5/wsAAAACAAYAAAD6/wsAAAACAAYAAAD2/wsAAAACAAYAAAD1/wsAAAACAAYAAAD0/wsAAAACAAYAAADz/wsAAAACAAYAAAD2/woAAAAJAAUAAAD1/woAAAAJAAUAAAD0/woAAAAJAAUAAADz/woAAAAJAAUAAADy/woAAAAJAAUAAADx/woAAAAJAAUAAADw/woAAAAJAAUAAADv/woAAAAJAAUAAADu/woAAAAJAAUAAADt/woAAAAJAAUAAADy/wsAAAACAAYAAADx/wsAAAACAAYAAADw/wsAAAACAAYAAADv/wsAAAACAAYAAADu/wsAAAACAAYAAADt/wsAAAACAAYAAADs/woAAAAIAAUAAADr/woAAAAIAAUAAADq/woAAAAIAAUAAADp/woAAAAIAAUAAADo/woAAAAIAAUAAADn/woAAAAIAAUAAADm/woAAAAIAAUAAADm/wkAAAAIAAUAAADm/wsAAAACAAYAAADn/wsAAAACAAYAAADo/wsAAAACAAYAAADp/wsAAAACAAYAAADq/wsAAAACAAYAAADr/wsAAAACAAYAAADs/wsAAAACAAYAAAD6/wkAAAAIAAUAAAD6/wgAAAAIAAUAAADm/wgAAAAIAAUAAAA=")
tile_set = ExtResource("2_1603u")

[node name="Player" parent="." instance=ExtResource("2_dwsf3")]
position = Vector2(-607, -88)
script = SubResource("GDScript_xed15")

[node name="Turtle" parent="." groups=["enemy"] instance=ExtResource("3_1hwaj")]
position = Vector2(222, 39)

[node name="FriendlyTribe" parent="." groups=["enemy"] instance=ExtResource("4_sdmob")]
position = Vector2(289, 127)

[node name="Starfish" parent="." groups=["enemy"] instance=ExtResource("5_1603u")]
position = Vector2(-75, 216)

[node name="Mushroom" parent="." groups=["enemy"] instance=ExtResource("8_1p8jb")]
position = Vector2(744, -53)

[node name="Crab" parent="." groups=["enemy"] instance=ExtResource("9_4x5ew")]
position = Vector2(239, -116)

[node name="AggressiveTribe" parent="." groups=["enemy"] instance=ExtResource("10_lq01q")]
position = Vector2(674, -206)

[node name="Barrel" parent="." groups=["enemy"] instance=ExtResource("11_sdmob")]
position = Vector2(883, -215)

[node name="Bullets" type="Node" parent="."]

[node name="Blade" parent="." instance=ExtResource("11_1603u")]
position = Vector2(118, 154)

[node name="Starfish2" parent="." groups=["enemy"] instance=ExtResource("5_1603u")]
position = Vector2(-265, 131)

[node name="BreakablePlatform" parent="." instance=ExtResource("13_o8rrw")]
position = Vector2(-96, 89)

[node name="BreakablePlatformSlow" parent="." instance=ExtResource("14_37uqy")]
position = Vector2(-160, 89)

[node name="HorizontalMovingPlatform" parent="." groups=["one_way_platform"] instance=ExtResource("15_1p8jb")]
position = Vector2(-226, 43)

[node name="VerticalMovingPlatform" parent="." groups=["one_way_platform"] instance=ExtResource("16_4x5ew")]
position = Vector2(-269, -118)

[node name="CircularMovingPlatform" parent="." groups=["one_way_platform"] instance=ExtResource("16_lq01q")]
position = Vector2(-413, -2)

[node name="ShieldTribe" parent="." groups=["enemy"] instance=ExtResource("17_lq01q")]
position = Vector2(1095, -78)

[node name="Spring" parent="." instance=ExtResource("18_kwr08")]
position = Vector2(-40, -159)

[node name="OneWayPlatform" parent="." instance=ExtResource("20_kvxrx")]
position = Vector2(19, 14)

[node name="CollapsableWall" parent="." instance=ExtResource("21_463cb")]
position = Vector2(333, -1)

[node name="water" type="Node2D" parent="." groups=["water"]]
z_index = 10
position = Vector2(-793, -50)
script = ExtResource("22_06vob")
water_size = Vector2(330, 250)
player_splash_mutiplier = 0.36
metadata/_custom_type_script = "uid://b3s1m3fi6lhf5"

[node name="World" type="TileMapLayer" parent="."]
tile_set = ExtResource("23_yjwvk")

[node name="Key" parent="." instance=ExtResource("24_go1d3")]
position = Vector2(175, 144)

[node name="TrapCoin" parent="." instance=ExtResource("25_20b5y")]
position = Vector2(144, 150)

[node name="Coin" parent="." instance=ExtResource("26_hdt7w")]
position = Vector2(99, 152)

[node name="HealthPotion" parent="." instance=ExtResource("27_xed15")]
position = Vector2(21, 140)
scale = Vector2(0.25, 0.25)
